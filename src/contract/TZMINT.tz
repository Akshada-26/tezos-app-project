{
    storage
        (pair
            (pair
                (pair
                    (pair
                        (nat %D)
                        (nat %I))
                    (pair
                        (mutez %MFG)
                        (pair
                            (timestamp %MPT)
                            (nat %b))))
                (pair
                    (pair
                        (string %base_currency)
                        (nat %burned_tokens))
                    (pair
                        (string %company_name)
                        (pair
                            (int %company_v)
                            (string %govRights)))))
            (pair
                (pair
                    (pair
                        (map %ledger address nat)
                        (mutez %minimumInvestment))
                    (pair
                        (address %organization)
                        (pair
                            (int %phase)
                            (mutez %price))))
                (pair
                    (pair
                        (nat %s)
                        (pair
                            (int %stake_allocation)
                            (list %termination_events string)))
                    (pair
                        (int %total_allocation)
                        (pair
                            (mutez %total_investment)
                            (nat %total_tokens))))));
    parameter
        (or
            (or
                (int %burn)
                (unit %buy))
            (or
                (unit %close)
                (or
                    (unit %pay)
                    (int %sell))));
    code
        {
            LAMBDA
                nat
                nat
                {
                    DUP;
                    PUSH nat 0;
                    SWAP;
                    COMPARE;
                    GE;
                    IF
                        {
                        }
                        {
                            PUSH string "WrongCondition: _x0 >= 0";
                            FAILWITH
                        };
                    DUP;
                    DUP;
                    DUG 2;
                    SWAP;
                    DUP;
                    DUP;
                    DUG 3;
                    MUL;
                    COMPARE;
                    GT;
                    LOOP
                        {
                            PUSH nat 2;
                            SWAP;
                            DUP;
                            {
                                DIP
                                    3
                                    {
                                        DUP
                                    };
                                DIG 4
                            };
                            EDIV;
                            IF_NONE
                                {
                                    PUSH int 67;
                                    FAILWITH
                                }
                                {
                                    CAR
                                };
                            ADD;
                            EDIV;
                            IF_NONE
                                {
                                    PUSH int 67;
                                    FAILWITH
                                }
                                {
                                    CAR
                                };
                            SWAP;
                            DUP;
                            DUG 2;
                            SWAP;
                            DUP;
                            DUP;
                            DUG 3;
                            MUL;
                            COMPARE;
                            GT
                        };
                    SWAP;
                    DUP;
                    DUG 2;
                    SWAP;
                    DUP;
                    DUP;
                    DUG 3;
                    MUL;
                    COMPARE;
                    LE;
                    IF
                        {
                            DUP;
                            PUSH nat 1;
                            ADD;
                            PUSH nat 1;
                            {
                                DIP
                                    2
                                    {
                                        DUP
                                    };
                                DIG 3
                            };
                            ADD;
                            MUL;
                            DIG 2;
                            COMPARE;
                            LT
                        }
                        {
                            SWAP;
                            DROP;
                            PUSH bool False
                        };
                    IF
                        {
                        }
                        {
                            PUSH string "WrongCondition: ((y.value * y.value) <= _x0) & (_x0 < ((y.value + 1) * (y.value + 1)))";
                            FAILWITH
                        }
                };
            SWAP;
            {
                {
                    DUP;
                    CAR;
                    DIP
                        {
                            CDR
                        }
                }
            };
            IF_LEFT
                {
                    IF_LEFT
                        {
                            DIG 2;
                            DROP;
                            SWAP;
                            DUP;
                            DUG 2;
                            GET 3;
                            CAR;
                            CAR;
                            SENDER;
                            MEM;
                            IF
                                {
                                    DUP;
                                    ISNAT;
                                    IF_NONE
                                        {
                                            PUSH int 192;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    GET 3;
                                    CAR;
                                    CAR;
                                    SENDER;
                                    GET;
                                    IF_NONE
                                        {
                                            PUSH int 196;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    COMPARE;
                                    GE;
                                    IF
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            {
                                                DIP
                                                    5
                                                    {
                                                        DUP
                                                    };
                                                DIG 6
                                            };
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 192;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            DIG 7;
                                            GET 3;
                                            CAR;
                                            CAR;
                                            SENDER;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 198;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            SUB;
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 198;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            SOME;
                                            SENDER;
                                            UPDATE;
                                            PAIR;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            DIG 5;
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 192;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            ADD;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR
                                        }
                                        {
                                            DROP
                                        }
                                }
                                {
                                    DROP
                                };
                            DUP;
                            GET 10;
                            PUSH nat 0;
                            COMPARE;
                            NEQ;
                            IF
                                {
                                    DUP;
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    SWAP;
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    SWAP;
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    CDR;
                                    DIG 4;
                                    DUP;
                                    GET 10;
                                    SWAP;
                                    GET 10;
                                    MUL;
                                    PUSH mutez 1;
                                    PUSH mutez 0;
                                    BALANCE;
                                    SUB;
                                    EDIV;
                                    IF_NONE
                                        {
                                            UNIT;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    CAR;
                                    PUSH nat 2;
                                    MUL;
                                    EDIV;
                                    IF_NONE
                                        {
                                            PUSH int 74;
                                            FAILWITH
                                        }
                                        {
                                            CAR
                                        };
                                    PAIR;
                                    PAIR;
                                    SWAP;
                                    PAIR;
                                    SWAP;
                                    PAIR
                                }
                                {
                                };
                            NIL operation
                        }
                        {
                            PUSH int 2;
                            {
                                DIP
                                    2
                                    {
                                        DUP
                                    };
                                DIG 3
                            };
                            GET 3;
                            GET 5;
                            COMPARE;
                            NEQ;
                            IF
                                {
                                    SWAP;
                                    DUP;
                                    CAR;
                                    CAR;
                                    GET 3;
                                    SWAP;
                                    DUP;
                                    DUG 3;
                                    GET 9;
                                    COMPARE;
                                    LT;
                                    IF
                                        {
                                            DROP;
                                            SWAP;
                                            DROP;
                                            DUP;
                                            GET 9;
                                            AMOUNT;
                                            {
                                                DIP
                                                    2
                                                    {
                                                        DUP
                                                    };
                                                DIG 3
                                            };
                                            CAR;
                                            CAR;
                                            GET 3;
                                            SUB;
                                            COMPARE;
                                            LT;
                                            IF
                                                {
                                                    NIL operation;
                                                    SENDER;
                                                    CONTRACT unit;
                                                    IF_NONE
                                                        {
                                                            PUSH int 181;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    DIG 2;
                                                    DUP;
                                                    GET 9;
                                                    SWAP;
                                                    DUP;
                                                    DUG 4;
                                                    CAR;
                                                    CAR;
                                                    GET 3;
                                                    SUB;
                                                    AMOUNT;
                                                    SUB;
                                                    UNIT;
                                                    TRANSFER_TOKENS;
                                                    CONS;
                                                    SWAP;
                                                    DUP;
                                                    GET 3;
                                                    GET 6;
                                                    SWAP;
                                                    DUP;
                                                    GET 9;
                                                    SWAP;
                                                    DUP;
                                                    DUG 4;
                                                    CAR;
                                                    CAR;
                                                    GET 3;
                                                    SUB;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            PUSH string "Fatal Error: Price is zero";
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    PUSH int 0;
                                                    ISNAT;
                                                    IF_NONE
                                                        {
                                                            PUSH int 87;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    CAR;
                                                    COMPARE;
                                                    EQ;
                                                    IF
                                                        {
                                                            PUSH string "No token can be issued, please send more tez";
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    GET 3;
                                                    CAR;
                                                    CAR;
                                                    SENDER;
                                                    MEM;
                                                    IF
                                                        {
                                                            DIG 2;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            SWAP;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            DUP;
                                                            SENDER;
                                                            DUP;
                                                            DUG 2;
                                                            GET;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 93;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            {
                                                                DIP
                                                                    7
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 8
                                                            };
                                                            CAR;
                                                            ADD;
                                                            SOME;
                                                            SWAP;
                                                            UPDATE;
                                                            PAIR;
                                                            PAIR;
                                                            PAIR;
                                                            SWAP;
                                                            PAIR;
                                                            DUG 2
                                                        }
                                                        {
                                                            DIG 2;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            SWAP;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                DIP
                                                                    5
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 6
                                                            };
                                                            CAR;
                                                            SOME;
                                                            SENDER;
                                                            UPDATE;
                                                            PAIR;
                                                            PAIR;
                                                            PAIR;
                                                            SWAP;
                                                            PAIR;
                                                            DUG 2
                                                        };
                                                    DIG 2;
                                                    DUP;
                                                    GET 10;
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    CAR;
                                                    ADD;
                                                    UPDATE 10;
                                                    DUG 2;
                                                    PUSH nat 0;
                                                    PUSH mutez 1;
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    CDR;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            UNIT;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    COMPARE;
                                                    GT;
                                                    IF
                                                        {
                                                            SWAP;
                                                            SENDER;
                                                            CONTRACT unit;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 104;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            {
                                                                DIP
                                                                    2
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 3
                                                            };
                                                            CDR;
                                                            UNIT;
                                                            TRANSFER_TOKENS;
                                                            CONS;
                                                            SWAP
                                                        }
                                                        {
                                                        };
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    DUP;
                                                    GET 9;
                                                    DIG 2;
                                                    CDR;
                                                    DIG 4;
                                                    DUP;
                                                    GET 9;
                                                    SWAP;
                                                    CAR;
                                                    CAR;
                                                    GET 3;
                                                    SUB;
                                                    SUB;
                                                    ADD;
                                                    UPDATE 9;
                                                    SWAP
                                                }
                                                {
                                                    DUP;
                                                    GET 3;
                                                    GET 6;
                                                    AMOUNT;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            PUSH string "Fatal Error: Price is zero";
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    PUSH int 0;
                                                    ISNAT;
                                                    IF_NONE
                                                        {
                                                            PUSH int 87;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    CAR;
                                                    COMPARE;
                                                    EQ;
                                                    IF
                                                        {
                                                            PUSH string "No token can be issued, please send more tez";
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    CAR;
                                                    CAR;
                                                    SENDER;
                                                    MEM;
                                                    IF
                                                        {
                                                            SWAP;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            SWAP;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            DUP;
                                                            SENDER;
                                                            DUP;
                                                            DUG 2;
                                                            GET;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 93;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            {
                                                                DIP
                                                                    7
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 8
                                                            };
                                                            CAR;
                                                            ADD;
                                                            SOME;
                                                            SWAP;
                                                            UPDATE;
                                                            PAIR;
                                                            PAIR;
                                                            PAIR;
                                                            SWAP;
                                                            PAIR;
                                                            SWAP
                                                        }
                                                        {
                                                            SWAP;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            SWAP;
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                {
                                                                    DUP;
                                                                    CAR;
                                                                    DIP
                                                                        {
                                                                            CDR
                                                                        }
                                                                }
                                                            };
                                                            {
                                                                DIP
                                                                    5
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 6
                                                            };
                                                            CAR;
                                                            SOME;
                                                            SENDER;
                                                            UPDATE;
                                                            PAIR;
                                                            PAIR;
                                                            PAIR;
                                                            SWAP;
                                                            PAIR;
                                                            SWAP
                                                        };
                                                    SWAP;
                                                    DUP;
                                                    GET 10;
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    CAR;
                                                    ADD;
                                                    UPDATE 10;
                                                    SWAP;
                                                    PUSH nat 0;
                                                    PUSH mutez 1;
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    CDR;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            UNIT;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    COMPARE;
                                                    GT;
                                                    IF
                                                        {
                                                            NIL operation;
                                                            SENDER;
                                                            CONTRACT unit;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 104;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            {
                                                                DIP
                                                                    2
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 3
                                                            };
                                                            CDR;
                                                            UNIT;
                                                            TRANSFER_TOKENS;
                                                            CONS
                                                        }
                                                        {
                                                            NIL operation
                                                        };
                                                    DIG 2;
                                                    DUP;
                                                    GET 9;
                                                    DIG 3;
                                                    CDR;
                                                    AMOUNT;
                                                    SUB;
                                                    ADD;
                                                    UPDATE 9;
                                                    SWAP
                                                }
                                        }
                                        {
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            CDR;
                                            PUSH int 1;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            DUP;
                                            DUG 2;
                                            GET 10;
                                            {
                                                DIP
                                                    3
                                                    {
                                                        DUP
                                                    };
                                                DIG 4
                                            };
                                            DIG 3;
                                            DUP;
                                            GET 10;
                                            SWAP;
                                            DUP;
                                            DUG 5;
                                            GET 10;
                                            MUL;
                                            {
                                                DIP
                                                    4
                                                    {
                                                        DUP
                                                    };
                                                DIG 5
                                            };
                                            CAR;
                                            CAR;
                                            GET 6;
                                            PUSH mutez 1;
                                            AMOUNT;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            PUSH nat 2;
                                            MUL;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 114;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            ADD;
                                            EXEC;
                                            SUB;
                                            PUSH nat 2;
                                            {
                                                DIP
                                                    3
                                                    {
                                                        DUP
                                                    };
                                                DIG 4
                                            };
                                            CAR;
                                            CAR;
                                            GET 6;
                                            {
                                                DIP
                                                    2
                                                    {
                                                        DUP
                                                    };
                                                DIG 3
                                            };
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 122;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            {
                                                DIP
                                                    5
                                                    {
                                                        DUP
                                                    };
                                                DIG 6
                                            };
                                            GET 10;
                                            {
                                                DIP
                                                    4
                                                    {
                                                        DUP
                                                    };
                                                DIG 5
                                            };
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 122;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            ADD;
                                            MUL;
                                            MUL;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 122;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            PUSH nat 2;
                                            DIG 4;
                                            DUP;
                                            CAR;
                                            CAR;
                                            GET 6;
                                            SWAP;
                                            DUP;
                                            DUG 6;
                                            GET 10;
                                            {
                                                DIP
                                                    4
                                                    {
                                                        DUP
                                                    };
                                                DIG 5
                                            };
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 122;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            MUL;
                                            MUL;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 122;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            ADD;
                                            DUP;
                                            PUSH mutez 1;
                                            SWAP;
                                            MUL;
                                            AMOUNT;
                                            SUB;
                                            PUSH nat 0;
                                            PUSH mutez 1;
                                            {
                                                DIP
                                                    2
                                                    {
                                                        DUP
                                                    };
                                                DIG 3
                                            };
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                    NIL operation;
                                                    SENDER;
                                                    CONTRACT unit;
                                                    IF_NONE
                                                        {
                                                            PUSH int 135;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    UNIT;
                                                    TRANSFER_TOKENS;
                                                    CONS
                                                }
                                                {
                                                    NIL operation
                                                };
                                            DIG 5;
                                            DUP;
                                            GET 9;
                                            PUSH mutez 1;
                                            {
                                                DIP
                                                    5
                                                    {
                                                        DUP
                                                    };
                                                DIG 6
                                            };
                                            MUL;
                                            ADD;
                                            UPDATE 9;
                                            DUG 5;
                                            PUSH int 0;
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 141;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            {
                                                DIP
                                                    4
                                                    {
                                                        DUP
                                                    };
                                                DIG 5
                                            };
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 141;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                    PUSH string "No token can be issued, please send more tez";
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 1;
                                            PUSH int 100;
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 145;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            {
                                                DIP
                                                    4
                                                    {
                                                        DUP
                                                    };
                                                DIG 5
                                            };
                                            {
                                                DIP
                                                    8
                                                    {
                                                        DUP
                                                    };
                                                DIG 9
                                            };
                                            CAR;
                                            CAR;
                                            CAR;
                                            CDR;
                                            MUL;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 145;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            MUL;
                                            DUP;
                                            AMOUNT;
                                            SUB;
                                            DIG 2;
                                            {
                                                DIP
                                                    7
                                                    {
                                                        DUP
                                                    };
                                                DIG 8
                                            };
                                            GET 3;
                                            GET 3;
                                            CONTRACT unit;
                                            IF_NONE
                                                {
                                                    PUSH int 156;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            {
                                                DIP
                                                    2
                                                    {
                                                        DUP
                                                    };
                                                DIG 3
                                            };
                                            UNIT;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DUG 2;
                                            {
                                                DIP
                                                    7
                                                    {
                                                        DUP
                                                    };
                                                DIG 8
                                            };
                                            GET 3;
                                            CAR;
                                            CAR;
                                            SENDER;
                                            MEM;
                                            IF
                                                {
                                                    DIG 7;
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    SWAP;
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    DUP;
                                                    SENDER;
                                                    DUP;
                                                    DUG 2;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 161;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    {
                                                        DIP
                                                            12
                                                            {
                                                                DUP
                                                            };
                                                        DIG 13
                                                    };
                                                    ISNAT;
                                                    IF_NONE
                                                        {
                                                            PUSH int 161;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    ADD;
                                                    SOME;
                                                    SWAP;
                                                    UPDATE;
                                                    PAIR;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    DUG 7
                                                }
                                                {
                                                    DIG 7;
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    SWAP;
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    {
                                                        DIP
                                                            10
                                                            {
                                                                DUP
                                                            };
                                                        DIG 11
                                                    };
                                                    ISNAT;
                                                    IF_NONE
                                                        {
                                                            PUSH int 163;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    SOME;
                                                    SENDER;
                                                    UPDATE;
                                                    PAIR;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    DUG 7
                                                };
                                            DIG 7;
                                            DUP;
                                            GET 10;
                                            {
                                                DIP
                                                    7
                                                    {
                                                        DUP
                                                    };
                                                DIG 8
                                            };
                                            ISNAT;
                                            IF_NONE
                                                {
                                                    PUSH int 166;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            ADD;
                                            UPDATE 10;
                                            DUP;
                                            DUG 8;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            {
                                                {
                                                    DUP;
                                                    CAR;
                                                    DIP
                                                        {
                                                            CDR
                                                        }
                                                }
                                            };
                                            SWAP;
                                            CAR;
                                            PUSH mutez 1;
                                            DIG 13;
                                            DUP;
                                            GET 10;
                                            SWAP;
                                            CAR;
                                            CAR;
                                            GET 6;
                                            MUL;
                                            MUL;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            DUG 7;
                                            PUSH nat 0;
                                            {
                                                DIP
                                                    8
                                                    {
                                                        DUP
                                                    };
                                                DIG 9
                                            };
                                            GET 10;
                                            COMPARE;
                                            NEQ;
                                            IF
                                                {
                                                    SWAP;
                                                    DROP;
                                                    DIG 3;
                                                    DROP;
                                                    DIG 3;
                                                    DROP;
                                                    DIG 3;
                                                    DROP;
                                                    DIG 4;
                                                    DROP;
                                                    {
                                                        DIP
                                                            3
                                                            {
                                                                DUP
                                                            };
                                                        DIG 4
                                                    };
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    SWAP;
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    SWAP;
                                                    {
                                                        {
                                                            DUP;
                                                            CAR;
                                                            DIP
                                                                {
                                                                    CDR
                                                                }
                                                        }
                                                    };
                                                    CDR;
                                                    DIG 7;
                                                    DUP;
                                                    GET 10;
                                                    SWAP;
                                                    GET 10;
                                                    MUL;
                                                    PUSH mutez 1;
                                                    DIG 6;
                                                    DIG 8;
                                                    ADD;
                                                    BALANCE;
                                                    SUB;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            UNIT;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    PUSH nat 2;
                                                    MUL;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            PUSH int 74;
                                                            FAILWITH
                                                        }
                                                        {
                                                            CAR
                                                        };
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    SWAP
                                                }
                                                {
                                                    DROP 2;
                                                    SWAP;
                                                    DROP;
                                                    SWAP;
                                                    DROP;
                                                    SWAP;
                                                    DROP;
                                                    SWAP;
                                                    DROP;
                                                    DIG 2;
                                                    DROP
                                                }
                                        }
                                }
                                {
                                    DROP;
                                    SWAP;
                                    DROP;
                                    NIL operation
                                }
                        }
                }
                {
                    IF_LEFT
                        {
                            PUSH int 0;
                            {
                                DIP
                                    2
                                    {
                                        DUP
                                    };
                                DIG 3
                            };
                            CAR;
                            CAR;
                            GET 5;
                            NOW;
                            SUB;
                            COMPARE;
                            GE;
                            IF
                                {
                                }
                                {
                                    PUSH string "WrongCondition: (sp.now - self.data.MPT) >= 0";
                                    FAILWITH
                                };
                            PUSH int 1;
                            {
                                DIP
                                    2
                                    {
                                        DUP
                                    };
                                DIG 3
                            };
                            GET 3;
                            GET 5;
                            COMPARE;
                            EQ;
                            IF
                                {
                                }
                                {
                                    PUSH string "WrongCondition: self.data.phase == 1";
                                    FAILWITH
                                };
                            SWAP;
                            DUP;
                            DUG 2;
                            GET 3;
                            GET 3;
                            SENDER;
                            COMPARE;
                            EQ;
                            IF
                                {
                                }
                                {
                                    PUSH string "WrongCondition: sp.sender == self.data.organization";
                                    FAILWITH
                                };
                            SWAP;
                            DUP;
                            GET 10;
                            SWAP;
                            DUP;
                            DUG 3;
                            CAR;
                            CAR;
                            GET 6;
                            MUL;
                            DIG 2;
                            DUP;
                            CAR;
                            GET 3;
                            CDR;
                            SWAP;
                            DUP;
                            DUG 4;
                            GET 10;
                            SUB;
                            ISNAT;
                            IF_NONE
                                {
                                    PUSH int 270;
                                    FAILWITH
                                }
                                {
                                };
                            SWAP;
                            DUP;
                            DUG 2;
                            MUL;
                            DUP;
                            PUSH mutez 1;
                            SWAP;
                            MUL;
                            BALANCE;
                            COMPARE;
                            LT;
                            IF
                                {
                                    PUSH string "Please send more tez for the closing";
                                    FAILWITH
                                }
                                {
                                };
                            NIL operation;
                            {
                                DIP
                                    4
                                    {
                                        DUP
                                    };
                                DIG 5
                            };
                            GET 3;
                            CAR;
                            CAR;
                            ITER
                                {
                                    DUP;
                                    DUG 2;
                                    CAR;
                                    CONTRACT unit;
                                    IF_NONE
                                        {
                                            PUSH int 279;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    PUSH mutez 1;
                                    {
                                        DIP
                                            5
                                            {
                                                DUP
                                            };
                                        DIG 6
                                    };
                                    DIG 4;
                                    CDR;
                                    MUL;
                                    MUL;
                                    UNIT;
                                    TRANSFER_TOKENS;
                                    CONS
                                };
                            SWAP;
                            DROP;
                            SWAP;
                            DROP;
                            SWAP;
                            DROP;
                            DIG 2;
                            DROP;
                            SWAP;
                            {
                                {
                                    DUP;
                                    CAR;
                                    DIP
                                        {
                                            CDR
                                        }
                                }
                            };
                            SWAP;
                            {
                                {
                                    DUP;
                                    CAR;
                                    DIP
                                        {
                                            CDR
                                        }
                                }
                            };
                            {
                                {
                                    DUP;
                                    CAR;
                                    DIP
                                        {
                                            CDR
                                        }
                                }
                            };
                            SWAP;
                            {
                                {
                                    DUP;
                                    CAR;
                                    DIP
                                        {
                                            CDR
                                        }
                                }
                            };
                            SWAP;
                            CDR;
                            PUSH int 2;
                            PAIR;
                            SWAP;
                            PAIR;
                            SWAP;
                            PAIR;
                            PAIR;
                            SWAP;
                            PAIR;
                            SWAP
                        }
                        {
                            IF_LEFT
                                {
                                    DROP;
                                    DUP;
                                    GET 3;
                                    GET 5;
                                    PUSH int 1;
                                    COMPARE;
                                    EQ;
                                    IF
                                        {
                                        }
                                        {
                                            PUSH string "WrongCondition: self.data.phase == 1";
                                            FAILWITH
                                        };
                                    PUSH mutez 1;
                                    PUSH nat 100;
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    CAR;
                                    CAR;
                                    CAR;
                                    CAR;
                                    PUSH mutez 1;
                                    AMOUNT;
                                    EDIV;
                                    IF_NONE
                                        {
                                            UNIT;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    CAR;
                                    MUL;
                                    EDIV;
                                    IF_NONE
                                        {
                                            PUSH int 288;
                                            FAILWITH
                                        }
                                        {
                                            CAR
                                        };
                                    MUL;
                                    NIL operation;
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    GET 3;
                                    GET 3;
                                    CONTRACT unit;
                                    IF_NONE
                                        {
                                            PUSH int 296;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    AMOUNT;
                                    SUB;
                                    UNIT;
                                    TRANSFER_TOKENS;
                                    CONS;
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    GET 10;
                                    DIG 4;
                                    DIG 4;
                                    DUP;
                                    GET 10;
                                    SWAP;
                                    DUP;
                                    DUG 6;
                                    GET 10;
                                    MUL;
                                    {
                                        DIP
                                            5
                                            {
                                                DUP
                                            };
                                        DIG 6
                                    };
                                    CAR;
                                    CAR;
                                    GET 6;
                                    PUSH mutez 1;
                                    DIG 6;
                                    AMOUNT;
                                    SUB;
                                    EDIV;
                                    IF_NONE
                                        {
                                            UNIT;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    CAR;
                                    PUSH nat 2;
                                    MUL;
                                    EDIV;
                                    IF_NONE
                                        {
                                            PUSH int 299;
                                            FAILWITH
                                        }
                                        {
                                            CAR
                                        };
                                    ADD;
                                    EXEC;
                                    SUB;
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    SWAP;
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    {
                                        {
                                            DUP;
                                            CAR;
                                            DIP
                                                {
                                                    CDR
                                                }
                                        }
                                    };
                                    {
                                        DIP
                                            5
                                            {
                                                DUP
                                            };
                                        DIG 6
                                    };
                                    ISNAT;
                                    IF_NONE
                                        {
                                            PUSH int 308;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    SOME;
                                    DIG 8;
                                    GET 3;
                                    GET 3;
                                    UPDATE;
                                    PAIR;
                                    PAIR;
                                    PAIR;
                                    SWAP;
                                    PAIR;
                                    DUP;
                                    GET 10;
                                    DIG 2;
                                    ISNAT;
                                    IF_NONE
                                        {
                                            PUSH int 311;
                                            FAILWITH
                                        }
                                        {
                                        };
                                    ADD;
                                    UPDATE 10;
                                    SWAP
                                }
                                {
                                    PUSH int 0;
                                    {
                                        DIP
                                            2
                                            {
                                                DUP
                                            };
                                        DIG 3
                                    };
                                    GET 3;
                                    GET 5;
                                    COMPARE;
                                    EQ;
                                    IF
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            CAR;
                                            CAR;
                                            SENDER;
                                            MEM;
                                            IF
                                                {
                                                    DUP;
                                                    ISNAT;
                                                    IF_NONE
                                                        {
                                                            PUSH int 210;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    {
                                                        DIP
                                                            2
                                                            {
                                                                DUP
                                                            };
                                                        DIG 3
                                                    };
                                                    GET 3;
                                                    CAR;
                                                    CAR;
                                                    SENDER;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 210;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    COMPARE;
                                                    GE;
                                                    IF
                                                        {
                                                            DUP;
                                                            ISNAT;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 213;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            PUSH mutez 1;
                                                            {
                                                                DIP
                                                                    3
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 4
                                                            };
                                                            GET 3;
                                                            GET 6;
                                                            EDIV;
                                                            IF_NONE
                                                                {
                                                                    UNIT;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            CAR;
                                                            MUL;
                                                            {
                                                                DIP
                                                                    2
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 3
                                                            };
                                                            GET 3;
                                                            CAR;
                                                            CAR;
                                                            SENDER;
                                                            MEM;
                                                            IF
                                                                {
                                                                    SWAP;
                                                                    DUP;
                                                                    DUG 2;
                                                                    ISNAT;
                                                                    IF_NONE
                                                                        {
                                                                            PUSH int 192;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                        };
                                                                    {
                                                                        DIP
                                                                            3
                                                                            {
                                                                                DUP
                                                                            };
                                                                        DIG 4
                                                                    };
                                                                    GET 3;
                                                                    CAR;
                                                                    CAR;
                                                                    SENDER;
                                                                    GET;
                                                                    IF_NONE
                                                                        {
                                                                            PUSH int 196;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                        };
                                                                    COMPARE;
                                                                    GE;
                                                                    IF
                                                                        {
                                                                            {
                                                                                DIP
                                                                                    2
                                                                                    {
                                                                                        DUP
                                                                                    };
                                                                                DIG 3
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            SWAP;
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                DIP
                                                                                    6
                                                                                    {
                                                                                        DUP
                                                                                    };
                                                                                DIG 7
                                                                            };
                                                                            ISNAT;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 192;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            DIG 8;
                                                                            GET 3;
                                                                            CAR;
                                                                            CAR;
                                                                            SENDER;
                                                                            GET;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 198;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            SUB;
                                                                            ISNAT;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 198;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            SOME;
                                                                            SENDER;
                                                                            UPDATE;
                                                                            PAIR;
                                                                            PAIR;
                                                                            PAIR;
                                                                            SWAP;
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            SWAP;
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            SWAP;
                                                                            {
                                                                                DIP
                                                                                    6
                                                                                    {
                                                                                        DUP
                                                                                    };
                                                                                DIG 7
                                                                            };
                                                                            ISNAT;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 192;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            ADD;
                                                                            SWAP;
                                                                            PAIR;
                                                                            PAIR;
                                                                            SWAP;
                                                                            PAIR;
                                                                            PAIR;
                                                                            DUG 2
                                                                        }
                                                                        {
                                                                        }
                                                                }
                                                                {
                                                                };
                                                            NIL operation;
                                                            SENDER;
                                                            CONTRACT unit;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 220;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            PUSH mutez 1;
                                                            {
                                                                DIP
                                                                    3
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 4
                                                            };
                                                            MUL;
                                                            UNIT;
                                                            TRANSFER_TOKENS;
                                                            CONS;
                                                            PUSH nat 0;
                                                            {
                                                                DIP
                                                                    4
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 5
                                                            };
                                                            GET 10;
                                                            COMPARE;
                                                            NEQ;
                                                            IF
                                                                {
                                                                    {
                                                                        DIP
                                                                            3
                                                                            {
                                                                                DUP
                                                                            };
                                                                        DIG 4
                                                                    };
                                                                    {
                                                                        {
                                                                            DUP;
                                                                            CAR;
                                                                            DIP
                                                                                {
                                                                                    CDR
                                                                                }
                                                                        }
                                                                    };
                                                                    SWAP;
                                                                    {
                                                                        {
                                                                            DUP;
                                                                            CAR;
                                                                            DIP
                                                                                {
                                                                                    CDR
                                                                                }
                                                                        }
                                                                    };
                                                                    SWAP;
                                                                    {
                                                                        {
                                                                            DUP;
                                                                            CAR;
                                                                            DIP
                                                                                {
                                                                                    CDR
                                                                                }
                                                                        }
                                                                    };
                                                                    CDR;
                                                                    DIG 7;
                                                                    DUP;
                                                                    GET 10;
                                                                    SWAP;
                                                                    GET 10;
                                                                    MUL;
                                                                    PUSH mutez 1;
                                                                    DUP;
                                                                    DIG 8;
                                                                    MUL;
                                                                    BALANCE;
                                                                    SUB;
                                                                    EDIV;
                                                                    IF_NONE
                                                                        {
                                                                            UNIT;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                        };
                                                                    CAR;
                                                                    PUSH nat 2;
                                                                    MUL;
                                                                    EDIV;
                                                                    IF_NONE
                                                                        {
                                                                            PUSH int 74;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                            CAR
                                                                        };
                                                                    PAIR;
                                                                    PAIR;
                                                                    SWAP;
                                                                    PAIR;
                                                                    SWAP;
                                                                    PAIR;
                                                                    DUG 2
                                                                }
                                                                {
                                                                    SWAP;
                                                                    DROP
                                                                }
                                                        }
                                                        {
                                                            NIL operation
                                                        }
                                                }
                                                {
                                                    NIL operation
                                                }
                                        }
                                        {
                                            NIL operation
                                        };
                                    PUSH int 1;
                                    {
                                        DIP
                                            3
                                            {
                                                DUP
                                            };
                                        DIG 4
                                    };
                                    GET 3;
                                    GET 5;
                                    COMPARE;
                                    EQ;
                                    IF
                                        {
                                            {
                                                DIP
                                                    2
                                                    {
                                                        DUP
                                                    };
                                                DIG 3
                                            };
                                            GET 3;
                                            CAR;
                                            CAR;
                                            SENDER;
                                            MEM;
                                            IF
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    ISNAT;
                                                    IF_NONE
                                                        {
                                                            PUSH int 227;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    {
                                                        DIP
                                                            3
                                                            {
                                                                DUP
                                                            };
                                                        DIG 4
                                                    };
                                                    GET 3;
                                                    CAR;
                                                    CAR;
                                                    SENDER;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 227;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    COMPARE;
                                                    GE;
                                                    IF
                                                        {
                                                            DIG 2;
                                                            DUP;
                                                            CAR;
                                                            GET 3;
                                                            CDR;
                                                            SWAP;
                                                            DUP;
                                                            DUG 4;
                                                            GET 10;
                                                            SUB;
                                                            PUSH int 2;
                                                            MUL;
                                                            ISNAT;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            DIG 3;
                                                            DUP;
                                                            CAR;
                                                            GET 3;
                                                            CDR;
                                                            SWAP;
                                                            DUP;
                                                            DUG 5;
                                                            CAR;
                                                            GET 3;
                                                            CDR;
                                                            {
                                                                DIP
                                                                    4
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 5
                                                            };
                                                            ISNAT;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            {
                                                                DIP
                                                                    6
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 7
                                                            };
                                                            GET 5;
                                                            CAR;
                                                            MUL;
                                                            MUL;
                                                            MUL;
                                                            EDIV;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                    CAR
                                                                };
                                                            PUSH nat 2;
                                                            {
                                                                DIP
                                                                    4
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 5
                                                            };
                                                            GET 5;
                                                            CAR;
                                                            DIG 4;
                                                            DUP;
                                                            DUP;
                                                            DUG 6;
                                                            MUL;
                                                            ISNAT;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            MUL;
                                                            EDIV;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                    CAR
                                                                };
                                                            {
                                                                DIP
                                                                    4
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 5
                                                            };
                                                            GET 5;
                                                            CAR;
                                                            {
                                                                DIP
                                                                    4
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 5
                                                            };
                                                            ISNAT;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            {
                                                                DIP
                                                                    6
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 7
                                                            };
                                                            GET 10;
                                                            MUL;
                                                            MUL;
                                                            SUB;
                                                            ISNAT;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 230;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            ADD;
                                                            {
                                                                DIP
                                                                    3
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 4
                                                            };
                                                            GET 3;
                                                            CAR;
                                                            CAR;
                                                            SENDER;
                                                            MEM;
                                                            IF
                                                                {
                                                                    {
                                                                        DIP
                                                                            2
                                                                            {
                                                                                DUP
                                                                            };
                                                                        DIG 3
                                                                    };
                                                                    ISNAT;
                                                                    IF_NONE
                                                                        {
                                                                            PUSH int 192;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                        };
                                                                    {
                                                                        DIP
                                                                            4
                                                                            {
                                                                                DUP
                                                                            };
                                                                        DIG 5
                                                                    };
                                                                    GET 3;
                                                                    CAR;
                                                                    CAR;
                                                                    SENDER;
                                                                    GET;
                                                                    IF_NONE
                                                                        {
                                                                            PUSH int 196;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                        };
                                                                    COMPARE;
                                                                    GE;
                                                                    IF
                                                                        {
                                                                            {
                                                                                DIP
                                                                                    3
                                                                                    {
                                                                                        DUP
                                                                                    };
                                                                                DIG 4
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            SWAP;
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                DIP
                                                                                    7
                                                                                    {
                                                                                        DUP
                                                                                    };
                                                                                DIG 8
                                                                            };
                                                                            ISNAT;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 192;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            DIG 9;
                                                                            GET 3;
                                                                            CAR;
                                                                            CAR;
                                                                            SENDER;
                                                                            GET;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 198;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            SUB;
                                                                            ISNAT;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 198;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            SOME;
                                                                            SENDER;
                                                                            UPDATE;
                                                                            PAIR;
                                                                            PAIR;
                                                                            PAIR;
                                                                            SWAP;
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            SWAP;
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            {
                                                                                {
                                                                                    DUP;
                                                                                    CAR;
                                                                                    DIP
                                                                                        {
                                                                                            CDR
                                                                                        }
                                                                                }
                                                                            };
                                                                            SWAP;
                                                                            {
                                                                                DIP
                                                                                    7
                                                                                    {
                                                                                        DUP
                                                                                    };
                                                                                DIG 8
                                                                            };
                                                                            ISNAT;
                                                                            IF_NONE
                                                                                {
                                                                                    PUSH int 192;
                                                                                    FAILWITH
                                                                                }
                                                                                {
                                                                                };
                                                                            ADD;
                                                                            SWAP;
                                                                            PAIR;
                                                                            PAIR;
                                                                            SWAP;
                                                                            PAIR;
                                                                            PAIR;
                                                                            DUG 3
                                                                        }
                                                                        {
                                                                        }
                                                                }
                                                                {
                                                                };
                                                            SWAP;
                                                            SENDER;
                                                            CONTRACT unit;
                                                            IF_NONE
                                                                {
                                                                    PUSH int 243;
                                                                    FAILWITH
                                                                }
                                                                {
                                                                };
                                                            PUSH mutez 1;
                                                            {
                                                                DIP
                                                                    3
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 4
                                                            };
                                                            MUL;
                                                            UNIT;
                                                            TRANSFER_TOKENS;
                                                            CONS;
                                                            SWAP;
                                                            PUSH nat 0;
                                                            {
                                                                DIP
                                                                    4
                                                                    {
                                                                        DUP
                                                                    };
                                                                DIG 5
                                                            };
                                                            GET 10;
                                                            COMPARE;
                                                            NEQ;
                                                            IF
                                                                {
                                                                    DIG 2;
                                                                    DROP;
                                                                    DIG 3;
                                                                    DROP;
                                                                    {
                                                                        DIP
                                                                            2
                                                                            {
                                                                                DUP
                                                                            };
                                                                        DIG 3
                                                                    };
                                                                    {
                                                                        {
                                                                            DUP;
                                                                            CAR;
                                                                            DIP
                                                                                {
                                                                                    CDR
                                                                                }
                                                                        }
                                                                    };
                                                                    SWAP;
                                                                    {
                                                                        {
                                                                            DUP;
                                                                            CAR;
                                                                            DIP
                                                                                {
                                                                                    CDR
                                                                                }
                                                                        }
                                                                    };
                                                                    SWAP;
                                                                    {
                                                                        {
                                                                            DUP;
                                                                            CAR;
                                                                            DIP
                                                                                {
                                                                                    CDR
                                                                                }
                                                                        }
                                                                    };
                                                                    CDR;
                                                                    DIG 6;
                                                                    DUP;
                                                                    GET 10;
                                                                    SWAP;
                                                                    GET 10;
                                                                    MUL;
                                                                    PUSH mutez 1;
                                                                    DUP;
                                                                    DIG 7;
                                                                    MUL;
                                                                    BALANCE;
                                                                    SUB;
                                                                    EDIV;
                                                                    IF_NONE
                                                                        {
                                                                            UNIT;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                        };
                                                                    CAR;
                                                                    PUSH nat 2;
                                                                    MUL;
                                                                    EDIV;
                                                                    IF_NONE
                                                                        {
                                                                            PUSH int 74;
                                                                            FAILWITH
                                                                        }
                                                                        {
                                                                            CAR
                                                                        };
                                                                    PAIR;
                                                                    PAIR;
                                                                    SWAP;
                                                                    PAIR;
                                                                    SWAP;
                                                                    PAIR;
                                                                    SWAP
                                                                }
                                                                {
                                                                    DROP;
                                                                    SWAP;
                                                                    DROP;
                                                                    DIG 2;
                                                                    DROP
                                                                }
                                                        }
                                                        {
                                                            SWAP;
                                                            DROP;
                                                            DIG 2;
                                                            DROP
                                                        }
                                                }
                                                {
                                                    SWAP;
                                                    DROP;
                                                    DIG 2;
                                                    DROP
                                                }
                                        }
                                        {
                                            SWAP;
                                            DROP;
                                            DIG 2;
                                            DROP
                                        }
                                }
                        }
                };
            NIL operation;
            SWAP;
            ITER
                {
                    CONS
                };
            PAIR
        }
}